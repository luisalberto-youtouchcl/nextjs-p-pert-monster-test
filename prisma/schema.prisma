generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  schemas = ["monster"]
}

model Usuario {
  id              Int             @id @default(autoincrement())
  email           String          @unique
  nombre          String
  apellido        String
  whatsapp        String
  fecha_creacion  DateTime        @default(now())
  rol             Rol             @default(USER)
  participaciones Participacion[]

  @@schema("monster")
}

model Participacion {
  id           Int                 @id @default(autoincrement())
  boleta_path  String
  es_ganador   Boolean             @default(false)
  fecha_subida DateTime            @default(now())
  premio       String
  estado       EstadoParticipacion @default(PENDIENTE)
  usuarioId    Int
  usuario      Usuario @relation(fields: [usuarioId], references: [id])

  @@schema("monster")
}

enum Rol {
  ADMIN
  USER

  @@schema("monster")
}

enum EstadoParticipacion {
  PENDIENTE
  APROBADO
  RECHAZADO

  @@schema("monster")
}
